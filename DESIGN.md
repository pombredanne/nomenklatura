
## Use Cases

* Match foreign data records against a fixed, internal taxonomy
    * Match by name, by ID, by name in alternate language
    * Match by a set of properties?
    * Examples: COFOG, country codes, language codes

* Generate a taxonomy from foreign data records
    * Examples: list of authorities/suppliers from procurement data
    * Either match an existing item in the taxonomy, or create a new one.
    * Manually create a JOIN between two source datasets.

* De-duplicate a dataset on Nomenklatura internally
    * Example: EU lobbyists list.
    * Map two items to be considered identical.


## What are the basic units? 

* Types (e.g. Person, Company, ...)
    * Are these the same as what is currently a dataset?
* Records/Things/Entities
    * The units generated by recon/de-dupe
* Identities (e.g. Name, Code, national ID number, DUNS, URI, ...)
* Requests (i.e. "does this entity exist?")
    * Potentially the same as an Identity

## Design considerations

* Should it be split between a stand-alone and an integrated/CLI mode?
* How can this be fast over a network?
* How can it be easy to deploy? Need to get rid of the queue backend.

## Data models

Not sure what the ideal data model for this is, the following could be contenders:

### One row per candidate match

```yaml
Record:
    - id
    - json
    # alternatively: auto-generated table columns.
    - same_as_record
```

### Identities

```yaml
Record:
    - id
Identity:
    - record_id
    - attribute
    - value
    - json
    - is_invalid
```

### Statements

```yaml
Statement:
    - record_id
    - attribute
    - value
    - by_user
    - at_time
AliasStatement:
    # basically RDF OWL:sameAs
    - record_id
    - canonical_id 
```

## Reading

* https://dedupe.readthedocs.org/en/latest/
* https://github.com/OpenRefine/OpenRefine/wiki/Reconcilable-Data-Sources
* https://github.com/OpenRefine/OpenRefine/wiki/Clustering-In-Depth
* https://github.com/OpenRefine/OpenRefine/wiki/Reconciliation-Service-API
